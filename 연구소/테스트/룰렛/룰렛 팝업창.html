<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ë£°ë › íŒì—…ì°½</title>
   <style>
        /* íŒì—… ì „ì²´ ë°°ê²½ */
.popup {
  display: none;
  position: fixed;
  z-index: 9999;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%); /* ì •ì¤‘ì•™ ë°°ì¹˜ */
  background-color: rgba(0,0,0,0.6);
  width: 100%;
  height: 100%;
}

/* íŒì—… ë‚´ìš© */
.popup-content {
  position: absolute;
  background-color: #fff;
  padding: 20px;
  border-radius: 10px;
  width: 400px;
  height: 500px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}
/* ë“œë˜ê·¸ í•¸ë“¤ (ì œëª© ì˜ì—­) */
.popup-header {
  font-weight: bold;
  padding-bottom: 10px;
  cursor: move;
  /* border: 1px solid red; */
}

/* ë‹«ê¸° ë²„íŠ¼ */
.close-btn {
  position: absolute;
  top: 0px;
  right: 5px;
  font-size: 24px;
  cursor: pointer;
}

/* ë§í¬ ìŠ¤íƒ€ì¼ */
.popup-link {
  display: inline-block;
  margin-top: 15px;
  padding: 10px 20px;
  background-color: #f15a24;
  color: #fff;
  text-decoration: none;
  border-radius: 5px;
}
.popup-link:hover {
  background-color: #d44b1c;
}

    </style>
  <style>
    .roulette-content {
      text-align: center;
      font-family: sans-serif;
      background: #f0f0f0;
      padding-top: 50px;
    }

    .wheel-container {
      position: relative;
      width: 300px;
      height: 300px;
      margin: 0 auto;
    }

    .wheel {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 10px solid #333;
      position: relative;
      transition: transform 3s ease-out;
      background: conic-gradient(
        #cce1ff 0deg 60deg,
        #7bb0ff 60deg 120deg,
        #cce1ff 120deg 180deg,
        #7bb0ff 180deg 240deg,
        #cce1ff 240deg 300deg,
        #7bb0ff 300deg 360deg
      );
    }

    .pointer {
      position: absolute;
      
      top: -20px;
      left: 50%;
      transform: translateX(-25%);
      width: 0;
      height: 0;
      border-left: 20px solid transparent;
      border-right: 20px solid transparent;
      border-top: 100px solid #ff4a4a;
    }

    #spinBtn {
      margin-top: 30px;
      padding: 10px 20px;
      font-size: 18px;
      cursor: pointer;
    }
    .roulette_title{
         font-size: 30px;
         font-weight: bold;
    }
    .roulette_title2{
         font-size: 18px;
         font-weight: bold;
         margin-bottom: 30px;
    }
    .segment {
        position: absolute;
        width: 50%;
        height: 50%;
        top: 50%;
        left: 50%;
        transform-origin: 0% 0%;
        transform: rotate(calc(var(--i) * 60deg + 30deg)) translateX(-27%); 
    }
    .segment img{
      position: absolute;
      top: 80px;
      width: 80px; height: 40px;
    }
#result {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -150%); /* ë£°ë › ìœ„ìª½ì— í‘œì‹œë˜ê²Œ ì¡°ì • */
  background-color: rgba(0, 0, 0, 0.8);
  color: #fff;
  padding: 10px 20px;
  border-radius: 12px;
  font-size: 18px;
  font-weight: bold;
  display: none; 
  z-index: 10;
  pointer-events: none;
  white-space: nowrap;
}
.confetti-container {
  position: absolute;
  top: -135px;
  left: -20px;
  width: 335px;
  height: 450px;
  pointer-events: none;
  overflow: hidden;
  z-index: 50;
  /* border: 5px solid red; */
}

.confetti {
  position: absolute;
  width: 100%;
  height: 100%;
  background-image: url("/ë£°ë ›ì´ë¯¸ì§€/ì¢…ì´ê°€ë£¨5.png"); /* âœ… ê½ƒê°€ë£¨ ì´ë¯¸ì§€ */
  background-size: cover;
  /* background-color: yellow; */
  /* background-repeat: no-repeat;
  background-position: center;
  background-size: 100% 100%; */
  animation: popUpDown 3s ease-out forwards;
  opacity: 0;
}

@keyframes popUpDown {
  0% {
    transform: translateY(300px) scale(0.8) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  40% {
    transform: translateY(-300px) scale(1.2) rotate(180deg);
  }

  100% {
    transform: translateY(500px) scale(0.7) rotate(180deg);
     opacity: 1; 
  }
}

  </style>
</head>
<body>
ë¹ˆ í˜ì´ì§€
    <!-- íŒì—…ì°½ -->
<div id="eventPopup" class="popup">
  <div class="popup-content" id="popupContent">
    <div id="popupHeader" class="popup-header roulette_title">â­ì‹ ê·œê°€ì…ì í•œì •â­</div>
    <span class="close-btn" onclick="closePopup()">&times;</span>
    <div class="roulette_title2">íŠ¹ë³„ ì´ë²¤íŠ¸!!</div>
      <div class="wheel-container">
    <div class="wheel" id="wheel">
                    <!-- ê²½í’ˆ ì´ë¯¸ì§€ ë„£ëŠ”ê³³ -->
    <div class="segment" style="--i: 0;"><img src="ë£°ë ›ì´ë¯¸ì§€/ìƒí’ˆê¶Œë‚±ê°œ1.png" /></div>
    <div class="segment" style="--i: 1;"><img src="img2.png" /></div>
    <div class="segment" style="--i: 2;"><img src="ë£°ë ›ì´ë¯¸ì§€/ìƒí’ˆê¶Œë‚±ê°œ1.png" /></div>
    <div class="segment" style="--i: 3;"><img src="img4.png" /></div>
    <div class="segment" style="--i: 4;"><img src="ë£°ë ›ì´ë¯¸ì§€/ìƒí’ˆê¶Œë‚±ê°œ1.png" /></div>
    <div class="segment" style="--i: 5;"><img src="img6.png" /></div>
    </div>
    <div class="pointer"></div>
    <button id="spinBtn">ëŒë¦¬ê¸°!</button>
    <div id="result">ğŸ‰ ë‹¹ì²¨ ê²°ê³¼</div>
    <!-- ê½ƒê°€ë£¨ íš¨ê³¼ë¥¼ ë‹´ëŠ” ì˜ì—­ -->
    <div class="confetti-container" id="confetti-container"></div>
   </div>
  </div>
    <!-- <a href="/event" class="popup-link">ì´ë²¤íŠ¸ ë°”ë¡œê°€ê¸°</a> -->
  </div>
</div>

<!-- <div class="roulette-content">
  <div class="roulette_title">â­ì‹ ê·œê°€ì…ì í•œì •â­</div>
  <div class="roulette_title2">íŠ¹ë³„ ì´ë²¤íŠ¸!!</div>

  <div class="wheel-container">
    <div class="wheel" id="wheel"> -->
                    <!-- ê²½í’ˆ ì´ë¯¸ì§€ ë„£ëŠ”ê³³ -->
    <!-- <div class="segment" style="--i: 0;"><img src="img1.png" /></div>
    <div class="segment" style="--i: 1;"><img src="img2.png" /></div>
    <div class="segment" style="--i: 2;"><img src="img3.png" /></div>
    <div class="segment" style="--i: 3;"><img src="img4.png" /></div>
    <div class="segment" style="--i: 4;"><img src="img5.png" /></div>
    <div class="segment" style="--i: 5;"><img src="img6.png" /></div>
    </div>
    <div class="pointer"></div>
    <button id="spinBtn">ëŒë¦¬ê¸°!</button>
    <div id="result">ğŸ‰ ë‹¹ì²¨ ê²°ê³¼</div> -->
    <!-- ê½ƒê°€ë£¨ íš¨ê³¼ë¥¼ ë‹´ëŠ” ì˜ì—­ -->
    <!-- <div class="confetti-container" id="confetti-container"></div>
   </div>
  </div> -->

  
<script>
  // íŒì—… ë“œë˜ê·¸ í•¨ìˆ˜
  dragElement(document.getElementById("popupContent"));

  function dragElement(elmnt) {
    let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
    const header = document.getElementById("popupHeader");

    if (header) {
      header.onmousedown = dragMouseDown;
    } else {
      elmnt.onmousedown = dragMouseDown;
    }

    function dragMouseDown(e) {
      e = e || window.event;
      e.preventDefault();
      // ì´ˆê¸° ì»¤ì„œ ìœ„ì¹˜ ì €ì¥
      pos3 = e.clientX;
      pos4 = e.clientY;
      document.onmouseup = closeDragElement;
      document.onmousemove = elementDrag;
    }

    function elementDrag(e) {
      e = e || window.event;
      e.preventDefault();
      // ì»¤ì„œê°€ ì´ë™í•œ ê±°ë¦¬ ê³„ì‚°
      pos1 = pos3 - e.clientX;
      pos2 = pos4 - e.clientY;
      pos3 = e.clientX;
      pos4 = e.clientY;
      // ìš”ì†Œì˜ ìƒˆ ìœ„ì¹˜ ì„¤ì •
      elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
      elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
    }

    function closeDragElement() {
      document.onmouseup = null;
      document.onmousemove = null;
    }
  }
  // í˜ì´ì§€ê°€ ë¡œë“œë˜ë©´ íŒì—… ë³´ì´ê¸°
  window.onload = function() {
    // ì¿ í‚¤ í™•ì¸í•´ì„œ ì´ë¯¸ ë³¸ ì‚¬ìš©ìëŠ” ìƒëµ (ì„ íƒ ì‚¬í•­)
    // if (!getCookie("eventPopupClosed")) {
    //   document.getElementById("eventPopup").style.display = "block";
    // }
    document.getElementById("eventPopup").style.display = "block";//ìƒëµì•ˆí•˜ë©´ ì—¬ê¸°ë§Œ ì‚¬ìš©
  };

  function closePopup() {
    document.getElementById("eventPopup").style.display = "none";
    // í•˜ë£¨ ë™ì•ˆ ë‹¤ì‹œ ì•ˆ ëœ¨ê²Œ ì¿ í‚¤ ì €ì¥ (ì„ íƒ ì‚¬í•­)
    setCookie("eventPopupClosed", true, 1);
  }

  // ì¿ í‚¤ ì„¤ì •
  function setCookie(name, value, days) {
    let expires = "";
    if (days) {
      const date = new Date();
      date.setTime(date.getTime() + (days*24*60*60*1000));
      expires = "; expires=" + date.toUTCString();
    }
    document.cookie = name + "=" + (value || "")  + expires + "; path=/";
  }

  // ì¿ í‚¤ ê°€ì ¸ì˜¤ê¸°
  function getCookie(name) {
    const nameEQ = name + "=";
    const ca = document.cookie.split(';');
    for(let i=0; i < ca.length; i++) {
      let c = ca[i];
      while (c.charAt(0)==' ') c = c.substring(1,c.length);
      if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
  }
</script>
  <script>
    const wheel = document.getElementById('wheel');
    const button = document.getElementById('spinBtn');
    const resultDiv = document.getElementById("result");
    let deg = 0;
    const segments = 6; // ì´ ì¹¸ ìˆ˜
    const prizes = ["ìƒí’ˆA", "ìƒí’ˆB", "ìƒí’ˆC", "ìƒí’ˆD", "ìƒí’ˆE", "ìƒí’ˆF"];

    button.addEventListener('click', () => {
        resultDiv.style.display = "none"; // ëŒë¦´ ë•Œ ê²°ê³¼ ìˆ¨ê¹€
      // ì„ íƒê°ë„ ì‚¬ì´ì—ì„œ ë¬´ì‘ìœ„ íšŒì „
      const randomDeg = Math.floor(360 + Math.random() * 3600);
      deg += randomDeg;
      wheel.style.transform = `rotate(${deg}deg)`;

     // ë£°ë ›ì´ ëë‚  ë•Œ ê²°ê³¼ í‘œì‹œ
     setTimeout(() => {
    const normalizedDeg = deg % 360; // 0~359 ë²”ìœ„ë¡œ ì •ë¦¬
    const sectorSize = 360 / segments;
    const pickedIndex = Math.floor((360 - normalizedDeg) / sectorSize) % segments;

   // âœ… ê²°ê³¼ë¥¼ alert ëŒ€ì‹  divì— í‘œì‹œ
    resultDiv.textContent = `ğŸ‰ ë‹¹ì²¨: ${prizes[pickedIndex]}!`;
    resultDiv.style.display = "block";
    // âœ… confetti ì‹¤í–‰
    launchConfetti(); // ì•„ë˜ì— ì •ì˜ëœ í•¨ìˆ˜
  }, 4000); // transition ì‹œê°„ê³¼ ë™ì¼í•˜ê²Œ ì„¤ì •
    });


  function launchConfetti() {
  const container = document.querySelector('.confetti-container');

  for (let i = 0; i < 2; i++) {
    const confetti = document.createElement('div');
    confetti.classList.add('confetti');

    // ìœ„ì¹˜ì™€ ì• ë‹ˆë©”ì´ì…˜ íƒ€ì´ë° ëœë¤
    confetti.style.left = (1-i) * 200-100 + 'px';
    // confetti.style.animationDelay = (Math.random() * 0.5) + 's';
    // confetti.style.transform = `rotate(${Math.random() * 360}deg)`;

    container.appendChild(confetti);

    // ì• ë‹ˆë©”ì´ì…˜ í›„ ì œê±°
    setTimeout(() => {
      confetti.remove();
    }, 5000); // ì• ë‹ˆë©”ì´ì…˜ë³´ë‹¤ ì•½ê°„ ì—¬ìœ  ìˆê²Œ
  }
}

  </script>
</body>
</html>
